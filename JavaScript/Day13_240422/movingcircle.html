<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving circle in square</title>
    <style>
        .rect{
            width:500px;
            height:500px;
            background-color : antiquewhite;
            z-index:1;
            position:relative; /*빨간 원의 기준점을 잡음*/
        }
        .circle{
            width:50px;
            height:50px;
            background-color :red;
            border :2px black solid;
            border-radius:50%;
            z-index:2;/*도형이 겹칠 때, 큰 숫자의 z-index값을 갖는 것이 위쪽에 겹쳐진다.*/
            position:absolute;
        }
    </style>
</head>

<body>
    <!-- 포커스가 갈 수 있게 tabindex 지정 대화형콘텐트는 0, 비대화형 콘텐트는 -1 -->
    <div class="rect" tabindex="1">
        <div class="circle" tabindex="2"></div>
        <!-- <div> 내에 <div>를 넣어  -->
    </div>
    <script>
        let circleTag = document.querySelector(".circle");
        let x=15,y=15;
        document.querySelector(".rect").onkeydown=function(event){
            
            if (event.keyCode =="39" && (x>=6 && x<440)){//right arrow. use "position tag" for moving
                x=x+10;
                circleTag.style.left=x+"px";/*move circle right by 10px*/
                // alert("1"+x);
            }
            else if (event.keyCode =="40" && (y>=6 && y<448)){//downward arrow. 
                y=y+10;
                circleTag.style.top=y+"px" ;/*move circle downward by 10px*/
                // alert("2"+y);
            }
            else if (event.keyCode =="37" && (x>=6 && x<448)){//right arrow. use "position tag" for moving
                x=x-10;
                circleTag.style.left=x+"px";/*move circle right by 10px*/
                // alert("1"+x);
            }
          
            else if (event.keyCode =="38" && (y>6 && y<448)){//upward arrow. 
                y=y-10;
                circleTag.style.top=y+"px";/*move circle upward by 10px*/
                // alert("4"+y);
                                    }
            }
    
    </script>
</body>
</html>
<!-- 정사각형의 배경 안에서 작은 원이 화살표 키의 방향에 따라 배경 사각형의 범위 내에서 움직이는 소스-->
<!-- 화살표 left 37, up 38 right 39 down 40 onkeydown, onkeypress 에서만 작동 -->
<!-- 원이 정사각형 내부에서만 움직일 수 있도록 범위를 한정 원의 크기가 50 border 2이므로 500-50-2=448로 한도를 정함.-->
<!-- onkeydown이 onkeyup보다 감도가 좋음. -->